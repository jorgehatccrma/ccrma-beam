%!TEX program = lualatex
\documentclass{beamer}

\usetheme[customtitle, simplefootline, simple, dark, centerframetitle]{CCRMA}
% the CCRMA theme offers the following options:
%   dark:         use a dark theme
%   customtitle:  use a custom title page (including author's email if specified)
%   gradient:     use a gradient background
%   simple:       prevent the use of the footer and colored headline
%   simplefootline: show only page numbers in the footline
%   centerframetitle: center frame titles
%   centerauthorinfo: center author (and related info) in the title page

% AWESOME Beamer Cheat-sheet:
% http://www.cpt.univ-mrs.fr/~masson/latex/Beamer-appearance-cheat-sheet.pdf




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% IF USING LUALATEX (OR XELATEX, UNTESTED), IT IS POSSIBLE TO USE SYSTEM FONTS
% THESE ARE SOME EXAMPLES. TO ENABLE THIS, SET \usesystemfontstrue (see below)
\newif\ifusesystemfonts
\usesystemfontstrue
% \usesystemfontsfalse
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifusesystemfonts

    % if you add new fonts to your system you might need to run this command on
    % a shell:
    %   luaotfload-tool -v -vvv -u

    % \usepackage[bitstream-charter]{mathdesign}
    \usepackage{fontspec}

    % \setmainfont{TeX Gyre Bonum}
    % \setmainfont{TeX Gyre Termes}
    \setmainfont{XITS}


    % \setsansfont{Source Sans Pro}  % for this you'll need to install "Source Sans Pro" OTF font in your system
    % \setsansfont{Open Sans}  % for this you'll need to install "Open Sans" OTF font in your system
    % \setsansfont{Raleway}  % for this you'll need to install "Raleway" TTF font in your system
    % \setsansfont{Ubuntu}  % for this you'll need to install "Ubuntu" TTF font in your system
    % \setsansfont[BoldFont={Ubuntu Bold}, ItalicFont={Ubuntu Light Italic}, BoldItalicFont={Ubuntu Bold Italic}]{Ubuntu Light}  % for this you'll need to install "Ubuntu" TTF font in your system
    % \setsansfont{PT Sans}
    % \setsansfont{Lato}
    % \setsansfont[BoldFont={Colaborate-Bold}, ItalicFont={Colaborate-Thin}, BoldItalicFont={Colaborate-Medium}]{Colaborate-Regular}
    % \setsansfont{Aller}
    \setsansfont{Asap}

    % \setmonofont{Source Code Pro}  % for this you'll need to install "Source Code Pro" OTF font in your system
    \setmonofont{Source Code Pro Light}  % for this you'll need to install "Source Code Pro" OTF font in your system
    % \setmonofont{Inconsolata}  % for this you'll need to install "Inconsolata" OTF font in your system


    \newfontfamily \ccrmaTitleFont {Ubuntu}
    % \newfontfamily \ccrmaTitleFont {Ubuntu-condensed}
    % \newfontfamily \ccrmaTitleFont {Amaranth}
    % \newfontfamily \ccrmaTitleFont {Asap}
    % \newfontfamily \alternativeFont {Raleway}
    % \newfontfamily \alternativeFont {Amaranth}
    % \newfontfamily \alternativeFont {Asap}
    % \newfontfamily \alternativeFont {Bitter}
    \newfontfamily \alternativeFont {Ubuntu-light}
    % \newfontfamily \alternativeFont {Ubuntu-condensed}
    % \newfontfamily \frameTitleFont {Ubuntu-condensed}
    \newfontfamily \frameTitleFont[BoldFont={Oswald-bold}, ItalicFont={Oswald-light}]{Oswald}
    % \newfontfamily \frameTitleFont[BoldFont={OstrichSans-bold}]{OstrichSans-medium}
    % \newfontfamily \frameTitleFont {Roboto-condensed}

    \newfontfamily \ccrmaLiteFont {Ubuntu-light}


    \setbeamerfont{title}{family=\ccrmaTitleFont}
    \setbeamerfont{frametitle}{family=\frameTitleFont, size=\LARGE}
    \setbeamerfont{framesubtitle}{family=\frameTitleFont, size=\large}
    \setbeamerfont*{enumerate item}{family=\ccrmaTitleFont}
    \setbeamerfont*{enumerate subitem}{family=\ccrmaTitleFont}
    \setbeamerfont*{enumerate subsubitem}{family=\ccrmaTitleFont}
    \setbeamerfont{section in toc}{family=\ccrmaTitleFont}
    \setbeamerfont{block title}{family=\alternativeFont}
    \setbeamerfont{block title alert}{family=\alternativeFont}
    \setbeamerfont{block title example}{family=\alternativeFont}


    \renewcommand{\theequation}{{\small \ccrmaLiteFont\arabic{equation}}}
    % \renewcommand{\theequation}{{\small \ccrmaTitleFont\arabic{equation}}}
    % \renewcommand{\theequation}{{\ttfamily\arabic{equation}}}

\else
\fi


% \usefonttheme[onlylarge]{structurebold}

\setbeamerfont{footline}{family=\ttfamily}





\usepackage{multimedia}
% this line is to fix a weird rendering issue in Adobe Acrobat on frames using the
% \movie tag with a "poster" image with transparency
\pdfpageattr {/Group << /S /Transparency /I true /CS /DeviceRGB>>}


% we'll use this package to allow absolute position (e.g. for images)
% this package can take you a long way for custom layouts, although it will put
% more responsibility on your shoulders. If you want to explore, go to the texpos'
% documentation: http://www.tex.ac.uk/ctan/macros/latex/contrib/textpos/textpos.pdf
\usepackage[absolute,overlay]{textpos}


\usepackage{rotating}
\usepackage{appendixnumberbeamer}

\usepackage{listings}
\lstset{basicstyle=\tiny\ttfamily,
        numberstyle=\tiny\ttfamily,
        frame=tb,  % draw fop and bottom lines surrounding the listing
        breaklines=true,
        showstringspaces=false,
        % backgroundcolor=\color{structure.fg!20!structure.bg},  % some viewer add annoying horizontal lines when this is set
        }
% a great reference for other options for the listings package can be found at
% http://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings



% Change the eqn. numbering color
\makeatletter
\let\reftagform@=\tagform@
\def\tagform@#1{\maketag@@@{\ignorespaces\textcolor{normal text.fg!50!structure.bg}{(#1)}\unskip\@@italiccorr}}
\renewcommand{\eqref}[1]{\textup{\reftagform@{\ref{#1}}}}







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CONTENT STARTS HERE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title page info
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% presentation "meta-data"
\title{CCRMA Beamer Template}
\subtitle{Sample Presentation}
\author{Author One \\ Author Two \\ Author Three}
% \authoremail{author1@ccrma.stanford.edu} % specific of the CCRMA beamer theme
\date

\institute[CCRMA]{
    % Center for Computer Research in Music and Acoustics\\[0.5ex]
    CCRMA\\
    Department of Music\\
    Stanford University%\\
    %Stanford CA, 94305
}

\date{\today}

\titlepageinstituelogo{
    \includegraphics[width=2.5cm]{stanford-ccrma-logo.pdf}
}


\titlegraphic{
    \includegraphics[width=2.5cm]{stanford-logo.pdf}
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SLIDES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Actual presentation
\begin{document}

\begin{frame}[plain]
    \titlepage
\end{frame}
\addtocounter{framenumber}{-1}  % so this page is not considered by the page counter


\begin{frame}[plain]
    \tableofcontents
\end{frame}
\addtocounter{framenumber}{-1}  % so this page is not considered by the page counter

\section[Intro]{Intro}
\begin{frame}[plain]
    \tableofcontents[currentsection]
\end{frame}
\addtocounter{framenumber}{-1}  % so this page is not considered by the page counter

\subsection[basics]{The Basics}

\begin{frame}\frametitle{First page}
    \begin{itemize}
    \item You say \textbf{yes}
        \begin{itemize}
        \item ...
        \end{itemize}
    \item I say \\
    \begin{equation*}
    e^{j \pi} == 1?
    \end{equation*}
    \end{itemize}

\end{frame}

\begin{frame}\frametitle{Second page}
    \begin{enumerate}
    \item You say goodbye
    \item and I say

    \begin{equation}
    X(\omega_k) = \sum_{n=0}^{N-1}x(n)e^{-j2\pi kn/N}
    \end{equation}

    \begin{equation}
    z \in \mathbb{C}
    \end{equation}

    \end{enumerate}
\end{frame}


\subsection[av]{Including Audio/Video}

\begin{frame}\frametitle{Further details}\framesubtitle{(about video)}
{
\centering
Multimedia package test: can you hear this?

$\downarrow$

\movie[showcontrols=true]{\includegraphics[height=6ex]{sound.pdf}}{154581__ecfike__i-m-all-right.wav}
% \movie[showcontrols=true]{\includegraphics[height=3ex]{movie.pdf}\hspace{4em}}{154581__ecfike__i-m-all-right.wav}
% \sound[beatspersample=16, channels=2, samplingrate=44100, encoding=Raw]{\includegraphics[height=8ex]{sound.pdf}}{154581__ecfike__i-m-all-right.wav}

\scriptsize
Since so far only Adobe has implemented embedded AV playback, you will need to use Acrobat as the viewer (haven't tested on Windows, but on OS X neither Preview nor Skim could play them).

}


\end{frame}


\section[Outro]{Outro}
\begin{frame}[plain]
    \tableofcontents[currentsection]
\end{frame}
\addtocounter{framenumber}{-1}  % so this page is not considered by the page counter

\begin{frame}

    \begin{block}{General block title}
    An idea\footnote{don't use titles if not needed}
    \end{block}

    \begin{example}[ex. 1]
    For example ...
    \end{example}

    \begin{alertblock}{Alert title}
    \centering
    \textbf{Or an alert!}
    \end{alertblock}

\end{frame}


\begin{frame}[plain]{Example of a table}

    \vspace{2cm}

    \begin{center}
        \begin{tabular}{c c c}
        \bf Name & \bf x & \bf y \\
        \hline
        $\alpha$ & 8 & 10 \\
        $\eta$ & 9 & 9 \\
        \hline
        \end{tabular}
    \end{center}

    \vspace{2cm}

    \begin{center}
    \scriptsize
    \hfill You can also omit the footer of a page by passing the \texttt{plain}
    option to the frame.
    \end{center}

\end{frame}

\begin{frame}{How to include an image}

    You can insert images the traditional \LaTeX~way

    \begin{figure}
        \includegraphics[width=0.3\textwidth]{stanford-logo.pdf}
        \caption{Who's logo is this?}
    \end{figure}
\end{frame}


\begin{frame}{Absolute positioning}

    Or you can use absolute positioning, via the \texttt{texpos} package

  % These vars may be altered to affect how texpos package (e.g. \begin{textblock} \end{textblock}) is used
  % \setlength{\TPHorizModule}{1cm}
  % \setlength{\TPVertModule}{1cm}


    \begin{textblock}{20}(6,11)
    \begin{rotate}{33}
      \includegraphics[width=0.3\textwidth]{ccrma-logo.pdf}
    \end{rotate}
    \end{textblock}


\end{frame}




\begin{frame}[fragile]{Code}

    To include code, use the \texttt{listings} package as usual, but you'll need
    to pass the \texttt{fragile} option to the frame.

%     \vspace{1cm}
%     \begin{lstlisting}[frame=single, keywordstyle=\color{orange}]
% X0,...,N−1 <- ditfft2(x, N, s):             DFT of (x0, xs, x2s, ..., x(N-1)s):
% if N = 1 then
%     X0 <- x0                                      trivial size-1 DFT base case
% else
%     X0,...,N/2−1 <- ditfft2(x, N/2, 2s)             DFT of (x0, x2s, x4s, ...)
%     XN/2,...,N−1 <- ditfft2(x+s, N/2, 2s)           DFT of (xs, xs+2s, xs+4s, ...)
%     for k = 0 to N/2−1                           combine DFTs of two halves into full DFT:
%         t <- Xk
%         Xk <- t + exp(−2 PI i k/N) Xk+N/2
%         Xk+N/2 <- t − exp(−2 PI i k/N) Xk+N/2
%     endfor
% endif
%     \end{lstlisting}

    \begin{lstlisting}[language=Python, keywordstyle=\color{orange}]
    import this
    The Zen of Python, by Tim Peters

    Beautiful is better than ugly.
    Explicit is better than implicit.
    Simple is better than complex.
    Complex is better than complicated.
    Flat is better than nested.
    Sparse is better than dense.
    Readability counts.
    Special cases aren't special enough to break the rules.
    Although practicality beats purity.
    Errors should never pass silently.
    Unless explicitly silenced.
    In the face of ambiguity, refuse the temptation to guess.
    There should be one-- and preferably only one --obvious way to do it.
    Although that way may not be obvious at first unless you're Dutch.
    Now is better than never.
    Although never is often better than *right* now.
    If the implementation is hard to explain, it's a bad idea.
    If the implementation is easy to explain, it may be a good idea.
    Namespaces are one honking great idea -- let's do more of those!
    \end{lstlisting}


\end{frame}


\begin{frame}{Using columns in a frame}
    \begin{columns}[t]
        \column{0.4\textwidth}
            This is content of the first column. You can use as many columns as you like, using the \texttt{columns} environment in \texttt{beamer}
        \column{0.4\textwidth}
            In the second column you can do whatever you want, like adding an image for example.
            \includegraphics[width=\textwidth]{ccrma-logo.pdf}
    \end{columns}
\end{frame}



\begin{frame}
    Showing bullets one at a time
    \begin{itemize}[<+->]
        \item Item 1
        \item Item 2
    \end{itemize}
\end{frame}




\begin{frame}
    Showing bullets one at a time, with a custom text for each
    \begin{itemize}[<+->]
        \item Item 1
        \item Item 2
    \end{itemize}

    \begin{block}{Definition}
        \only<1>{Custom text for item 1.}
        \only<2>{Custom text for item 2.}
    \end{block}

\end{frame}


\appendix  % this generates a warning, but it doesn't seem to affect the document visually

\begin{frame}[plain]{First Extra slide}
This is an extra slide, so it won't affect the page count displayed at the bottom of the main presentation. Basically, the page counter is reset here.
\end{frame}

\begin{frame}[plain]{As many as you want}
And this $\triangleq \mathbb{R}$ ...
\end{frame}



\end{document}